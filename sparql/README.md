SPARQL query examples
=====================

The queries in this directory should be executable against an example endpoint with diffent versions of [STW Thesaurus for Economics](http://zbw.eu/stw), prepared acccording to [Versions and Deltas as Named Graphs](https://github.com/jneubert/skos-history/wiki/Versions-and-Deltas-as-Named-Graphs):

  http://zbw.eu/beta/sparql/stwv/query

In order to experiment with a query, you may want to load it to [YASGUI](http://laurensrietveld.nl/yasgui/). Here for example a [link prepared for concept_history.rq](http://yasgui.laurensrietveld.nl/?contentTypeConstruct=text%2Fturtle&contentTypeSelect=application%2Fsparql-results%2Bxml&endpoint=http%3A%2F%2Fzbw.eu%2Fbeta%2Fsparql%2Fstwv%2Fquery&outputFormat=table&query=PREFIX+dcterms%3A+%3Chttp%3A%2F%2Fpurl.org%2Fdc%2Fterms%2F%3E%0APREFIX+skos%3A++++%3Chttp%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23%3E%0APREFIX+sh%3A++++++%3Chttp%3A%2F%2Fraw.github.com%2Fjneubert%2Fskos-history%2Fmaster%2Fskos-history.ttl%2F%3E%0A%0ACONSTRUCT+%7B%0A++%3Fconcept+sh%3Ahistory+%3FconceptDelta+.%0A++%3FconceptDelta%0A++++sh%3AprefLabelDeletion+%3FprefDelete+%3B%0A++++sh%3AprefLabelInsertion+%3FprefInsert+%3B%0A++++sh%3AaltLabelDeletion+%3FaltDelete+%3B%0A++++sh%3AaltLabelInsertion+%3FaltInsert+.%0A%7D%0A%0AWHERE+%7B%0A++BIND+(%3Chttp%3A%2F%2Fzbw.eu%2Fstw%2Fdescriptor%2F10112-4%3E+AS+%3Fconcept)%0A%0A++%3Fversion+a+sh%3ASchemeVersion+.%0A++GRAPH+%3Fversion+%7B%0A++++%3Fversion+sh%3AhasDelta+%3Fdelta+.%0A++++%3Fdelta+dcterms%3AhasPart+%3Fpart+.%0A%0A++++++%7B+BIND+(%3Fpart+AS+%3FdeletionsPart)%0A++++++++%3FdeletionsPart+a+sh%3ASchemeDeltaDeletions+.%0A++++++++GRAPH+%3FdeletionsPart+%7B%0A++++++++++%3Fconcept+skos%3AprefLabel+%3FprefDelete+.%0A++++++++++%3Fconcept+skos%3AaltLabel+%3FaltDelete+.%0A++++++++%7D%0A++++++%7D%0A++++UNION%0A++++++%7B+BIND+(%3Fpart+AS+%3FinsertionsPart)%0A++++++++%3FinsertionsPart+a+sh%3ASchemeDeltaInsertions+.%0A++++++++GRAPH+%3FinsertionsPart+%7B%0A++++++++++%3Fconcept+skos%3AprefLabel+%3FprefInsert+.%0A++++++++++%3Fconcept+skos%3AaltLabel+%3FaltInsert+%7D+.%0A++++++%7D%0A%0A++++BIND+(uri(concat(str(%3Fconcept)%2C+strafter(str(%3Fdelta)%2C+%22%2Fstw%22)))+AS+%3FconceptDelta)%0A++%7D%0A%7D%0A%0A&requestMethod=POST&tabTitle=Query).
